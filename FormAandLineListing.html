<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Form A</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
        crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
    <style type="text/css" media="screen"></style>
    <style type="text/css" href="../api/documents/IlCodOSjSxY/data" media="print">
        @media print {
            #notPrint {
                display: none;
            }
            #printing {
                display: block;
            }
            @page {
                size: A4 landscape;
                max-height: 100%;
                max-width: 100%
            }
        }
    </style>

    <style>
        table {
            border-collapse: collapse;
        }

        table,
        td,
        th {
            border: 1px solid black;
            text-align: center;
            height: 30px;
        }

        p {
            text-align: center;
        }

        .custom {
            margin-top: 50px;
            width: 100%;
            padding: 10px;
        }

        h3 {
            text-align: center;
        }

        .custom-table {
            width: 75%;
            font-size: 16px;
            margin: auto;
            text-align: center;
        }

        .custom-drop {
            text-align: center;
        }

        input[type=date] {
            border: 2px solid black;
            border-radius: 10px;
        }

        #loader {
            position: absolute;
            left: 50%;
            top: 50%;
            z-index: 3;
            width: 150px;
            height: 150px;
            margin: -75px 0 0 -75px;
            border: 16px solid #f3f3f3;
            border-radius: 50%;
            border-top: 16px solid #3498db;
            width: 120px;
            height: 120px;
            -webkit-animation: spin 2s linear infinite;
            animation: spin 2s linear infinite;
        }

        @-webkit-keyframes spin {
            0% {
                -webkit-transform: rotate(0deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <div id="loader" class="loader"></div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-*  custom">
                <div id="notPrint">
                    <b style="margin-left: 30%">Start Date : </b><input type="date" id="start" required>
                    <input type="checkbox" id="checkit" onclick="checkfunction()" checked> Search only for single day End
                    Date : <input type="date" id="end" disabled required><br><br>
                    <button onClick="genFormA()" id="genformA" style="margin-left: 50%">Generate</button><br><br>
                </div>

                <div id="printing">
                    <p id="forma"><strong>Form A</strong></p>
                    <ol id="header_gov">
                        <li id="date_header"><strong></strong></li>
                    </ol>
                    <table class="table table-striped table-hover table-bordered custom-table-government" id="checkTable">
                        <thead>
                            <tr>
                                <td colspan="1" rowspan="3">S.No.</td>
                                <td colspan="1" rowspan="3">Name of Institution</td>
                                <td colspan="3" rowspan="1">Total No.of IP Fever Cases in Hospitals</td>
                                <td colspan="3" rowspan="1">No.of Fever Cases admitted in last 24 hrs. (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">No.of Fever Cases discharged in last 24 hrs. (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">Dengue Cases detected in the last 24 hrs. (8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">No.of Dengue Cases discharged in last 24 hrs (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">Dengue +ve cases in Hospitals (out of Total IP)</td>
                            </tr>
                            <tr>
                                <td colspan="1" rowspan="2">
                                    < 12 children</td>
                                        <td colspan="1" rowspan="2">Adult</td>
                                        <td colspan="1" rowspan="2">Total</td>
                                        <td colspan="1" rowspan="2">
                                            < 12 children</td>
                                                <td colspan="1" rowspan="2">Adult</td>
                                                <td colspan="1" rowspan="2">Total</td>
                                                <td colspan="1" rowspan="2">
                                                    < 12 children</td>
                                                        <td colspan="1" rowspan="2">Adult</td>
                                                        <td colspan="1" rowspan="2">Total</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                            </tr>
                            <tr>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                            </tr>
                        </thead>
                    </table>
                    <ol id="header_private">
                        <li><strong>Private Institution (Private Medical Medical College Hospitals, Private Hospitals, Private Nursing Homes, NGO / Trust Hospitals)</strong></li>
                    </ol>
                    <table class="table table-striped table-hover table-bordered custom-table-private">
                        <thead>
                            <tr>
                                <td colspan="1" rowspan="3">S.No.</td>
                                <td colspan="1" rowspan="3">Name of Institution</td>
                                <td colspan="3" rowspan="1">Total No.of IP Fever Cases in Hospitals</td>
                                <td colspan="3" rowspan="1">No.of Fever Cases admitted in last 24 hrs. (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">No.of Fever Cases discharged in last 24 hrs. (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">Dengue Cases detected in the last 24 hrs. (8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">No.of Dengue Cases discharged in last 24 hrs (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">Dengue +ve cases in Hospitals (out of Total IP)</td>
                            </tr>
                            <tr>
                                <td colspan="1" rowspan="2">
                                    < 12 children</td>
                                        <td colspan="1" rowspan="2">Adult</td>
                                        <td colspan="1" rowspan="2">Total</td>
                                        <td colspan="1" rowspan="2">
                                            < 12 children</td>
                                                <td colspan="1" rowspan="2">Adult</td>
                                                <td colspan="1" rowspan="2">Total</td>
                                                <td colspan="1" rowspan="2">
                                                    < 12 children</td>
                                                        <td colspan="1" rowspan="2">Adult</td>
                                                        <td colspan="1" rowspan="2">Total</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                            </tr>
                            <tr>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                            </tr>
                        </thead>
                    </table>
                    <ol id="header_district">
                        <li><strong>District Total</strong></li>
                    </ol>
                    <table class="table table-striped table-hover table-bordered custom-table-district">
                        <thead>
                            <tr>
                                <td colspan="1" rowspan="3">S.No.</td>
                                <td colspan="1" rowspan="3">Name of Institution</td>
                                <td colspan="3" rowspan="1">Total No.of IP Fever Cases in Hospitals</td>
                                <td colspan="3" rowspan="1">No.of Fever Cases admitted in last 24 hrs. (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">No.of Fever Cases discharged in last 24 hrs. (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">Dengue Cases detected in the last 24 hrs. (8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">No.of Dengue Cases discharged in last 24 hrs (between 8 AM to 8 AM)</td>
                                <td colspan="3" rowspan="1">Dengue +ve cases in Hospitals (out of Total IP)</td>
                            </tr>
                            <tr>
                                <td colspan="1" rowspan="2">
                                    < 12 children</td>
                                        <td colspan="1" rowspan="2">Adult</td>
                                        <td colspan="1" rowspan="2">Total</td>
                                        <td colspan="1" rowspan="2">
                                            < 12 children</td>
                                                <td colspan="1" rowspan="2">Adult</td>
                                                <td colspan="1" rowspan="2">Total</td>
                                                <td colspan="1" rowspan="2">
                                                    < 12 children</td>
                                                        <td colspan="1" rowspan="2">Adult</td>
                                                        <td colspan="1" rowspan="2">Total</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                                                        <td colspan="3" rowspan="1">Elisa</td>
                            </tr>
                            <tr>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                                <td colspan="1" rowspan="1">NSI</td>
                                <td colspan="1" rowspan="1">IgM</td>
                                <td colspan="1" rowspan="1">Total</td>
                            </tr>
                        </thead>
                    </table>
                    <p id="forma1"><strong>Form A - Line Listing</strong></p>
                    <p style="text-align: left;display: inline" id="datedisplay"><strong>Date:</strong></p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <table style="text-align:center" class="table_both" id="both_table">
                        <thead>
                            <tr style='border:1px solid black'>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>S.No.</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Date of Admission</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Name</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Age(in years)</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Sex (M/F)</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Guardian</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Door Number,Street Name,Habitation</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Village</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Name of the block</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Name of the HUD</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Name of the District</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Contact Number</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Probable Diagnosis</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Diagnosis Lab Confirmed</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Name of Organisation/Lab Confirmed</b></th>
                                <th id='tablerows' colspan='1' style="color: #000000"><b>Remarks if any</b></th>
                            </tr>
                        </thead>
                    </table>
                    <div style="display:flex" id="footer">
                        <p style="padding-right:50%" id="footer1"> Supported by GHSA Project, ICMR-NIE, Chennai-77</p>
                        <p id="footer2"> Facilitated by DPH and PM, Chennai-06</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var orgUnitUid = dhis2.report.organisationUnit.id;
        var Total1, Total2, Total3, Total11;


        // var orgUnitChildren = dhis2.report.organisationUnitChildren;
        var url = window.location.href;
        var ouu1 = url.split('=')[2];
        var ou1 = ouu1.split('&')[0];
        var ou2 = ouu1.split('&')[0];
        var flag = 0;
        var startDate = "", endDate = "";
        $(document).ready(function () {
            document.getElementById("loader").style.display = "none";
            $('.custom-table-district').hide();
            $('.custom-table-government').hide();
            $('.custom-table-private').hide();
            $('#header_district').hide();
            $('#header_gov').hide();
            $('#header_private').hide();
            $('#footer1').hide();
            $('#footer2').hide();
            $('#forma').hide();

            $('.table_both ').hide();
            $('#datedisplay').hide();
            $('#forma1').hide();

            url = window.location.href;
            var arrayUrl = url.split('&');
            if (arrayUrl.length > 2) {
                var arraySDate = arrayUrl[2];
                startDate = arraySDate.split('=')[1];
                var arrayEDate = arrayUrl[3];
                endDate = arrayEDate.split('=')[1];
                load();


            }


        });

        var load = function () {
            $("#loader").show();
            flag = 1;
            genFormA();
        };
        var filteredOrgUnitList = [];
        $.getJSON("../api/organisationUnits/" + orgUnitUid + ".json?includeDescendants=true&fields=id,name&paging=false", function (data2) {
            $.getJSON(" ../api/organisationUnitGroups/wuENLoy4wM6.json?fields=id,displayName,organisationUnits[id,displayName]&paging=false", function (data3) {
                for (var k = 0; k < data2.organisationUnits.length; k++) {
                    for (var l = 0; l < data3.organisationUnits.length; l++) {
                        var ougroupmember = data3.organisationUnits[l].id;
                        var ouselected = data2.organisationUnits[k].id;

                        if (ougroupmember == ouselected) {
                            filteredOrgUnitList.push(data3.organisationUnits[l]);
                        }

                    }
                }
            });
        });

        var filteredOrgUnitList1 = [];
        $.getJSON("../api/organisationUnits/" + orgUnitUid + ".json?includeDescendants=true&fields=id,name&paging=false", function (data2) {
            $.getJSON(" ../api/organisationUnitGroups/SpPteqK0g5G.json?fields=id,displayName,organisationUnits[id,displayName]&paging=false", function (data3) {
                for (var k = 0; k < data2.organisationUnits.length; k++) {
                    for (var l = 0; l < data3.organisationUnits.length; l++) {
                        var ougroupmember = data3.organisationUnits[l].id;
                        var ouselected = data2.organisationUnits[k].id;

                        if (ougroupmember == ouselected) {
                            filteredOrgUnitList1.push(data3.organisationUnits[l]);
                        }

                    }
                }
            });
        });

        var checkfunction = function () {
            if ($('input:checkbox').is(':checked')) {
                document.getElementById("end").disabled = true;
                flag=3;
            }
            else {
                document.getElementById("end").disabled = false;
                flag=1;
            }
        };

        function genFormA() {
//            if (flag != 1) {
//                endDate = "";
//            }
            if (startDate == "" || endDate == "") {
                startDate = document.getElementById("start").value;

                if ($('input:checkbox').is(':checked')) {
                    endDate = startDate.substring(0, 8) + (Number(startDate.substring(8, 10)) + 1);
                    flag=3;

                }
                else {
                    endDate = document.getElementById("end").value;
                    flag=1;

                }
            }

            var total1 = 0, total2 = 0, total3 = 0, total4 = 0, total5 = 0, total6 = 0, total7 = 0, total8 = 0, total9 = 0, total10 = 0, total11 = 0, total12 = 0, total13 = 0, total14 = 0, total15 = 0, total16 = 0, total17 = 0, total18 = 0;
            var total1_1 = 0, total22 = 0, total33 = 0, total44 = 0, total55 = 0, total66 = 0, total77 = 0, total88 = 0, total99 = 0, total101 = 0, total111 = 0, total122 = 0, total133 = 0, total144 = 0, total155 = 0, total166 = 0, total177 = 0, total188 = 0;

            var total_dis1 = 0, total_dis2 = 0, total_dis3 = 0, total_dis4 = 0, total_dis5 = 0, total_dis6 = 0, total_dis7 = 0, total_dis8 = 0, total_dis9 = 0, total_dis10 = 0, total_dis11 = 0, total_dis12 = 0, total_dis13 = 0, total_dis14 = 0, total_dis15 = 0, total_dis16 = 0, total_dis17 = 0, total_dis18 = 0;

            $('.custom-table-district tbody').remove();
            $('.custom-table-district tbody').detach();
            $('.custom-table-government tbody').remove();
            $('.custom-table-government tbody').detach();
            $('.custom-table-private tbody').remove();
            $('.custom-table-private tbody').detach();
            $('.table_both tbody').remove();
            $('.table_both tbody').detach();

            $('.custom-table-district').show();
            $('.custom-table-government').show();
            $('.custom-table-private').show();
            $('#header_district').show();
            $('#header_gov').show();
            $('#header_private').show();
            $('#forma').show();

            //Ml0ZNj9APN0
            document.getElementById("date_header").innerHTML = "Government Institution (Govt. Medical College Hospital, DHQ Hospital, GHs, UG PHCs, ESI, Defence, Railway etc.,)" + startDate;
            var index2 = 1;
            for (var m = 0; m < filteredOrgUnitList.length; m++) {
                var row = "<tbody>";
                var ou = filteredOrgUnitList[m].id;
                var insName = filteredOrgUnitList[m].displayName;



                var CountArray = [];
                $.ajax({
                    async: false,
                    type: "GET",
                    url: "../api/events.json?orgUnit=" + ou + "&program=Ml0ZNj9APN0&startDate=" + startDate + "&endDate=" + endDate + "&skipPaging=true&order=eventDate:desc",
                    success: function (data) {

                        var Pou = "";

                        for (var p = 0; p < data.events.length; p++) {

                            if (ou != Pou) {
                                var count_1 = 0, count_2 = 0, count_3 = 0, count_4 = 0, count_5 = 0, count_6 = 0, count_7 = 0, count_8 = 0, count_9 = 0, count_10 = 0, count_11 = 0, count_12 = 0;
                                var count_123 = 0, count_22 = 0, count_33 = 0, count_44 = 0, count_55 = 0, count_66 = 0, count_77 = 0, count_88 = 0, count_99 = 0, count_101 = 0, count_111 = 0, count_122 = 0;

                            }

                            for (var q = 0; q < data.events[p].dataValues.length; q++) {

                                if (data.events[p].dataValues[q].dataElement == "bGuRtYtGK0x") {
                                    //Total_IP_Fever_Adult
                                    count_1 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "A1ivL2rs8Hg") {
                                    //Total_IP_Fever_child
                                    count_2 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "W0a8m9irFdw") {
                                    //Total_IP_Fever_adult 24 hours
                                    count_3 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "v2jl0DG87lD") {
                                    //Total_IP_Fever_child 24 hours

                                    count_4 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "iZ2pK0FR51I") {
                                    //Total_IP_Fever_discharge_adult 24 hours

                                    count_5 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "IwlH2J7rf5P") {
                                    //Total_IP_Fever_discharge_child 24 hours

                                    count_6 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "zg42qWd4CLa") {
                                    //HUD_Aggregate/Case_Detected_24hrs_IgM

                                    count_7 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "LbUvSAYZglg") {
                                    //HUD_Aggregate/Case_Detected_24hrs_NSI

                                    count_8 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "uzMGodduThW") {
                                    //HUD_Aggregate/Dengue_Discharged_24hrs_IgM

                                    count_9 += parseInt(data.events[p].dataValues[q].value);


                                }

                                else if (data.events[p].dataValues[q].dataElement == "TCKvjNLbNhJ") {
                                    //HUD_Aggregate/Dengue_Discharged_24hrs_NS1

                                    count_10 += parseInt(data.events[p].dataValues[q].value);


                                }

                                else if (data.events[p].dataValues[q].dataElement == "ubQe64rSIOv") {
                                    //HUD_Aggregate/Dengue_+ve_24hrs_IG1

                                    count_11 += parseInt(data.events[p].dataValues[q].value);


                                }
                                else if (data.events[p].dataValues[q].dataElement == "Rxv1yWzeVut") {
                                    //HUD_Aggregate/Dengue_Discharged+ve ns1

                                    count_12 += parseInt(data.events[p].dataValues[q].value);


                                }

                            }


                            var Total_1 = count_1 + count_2;
                            var Total_2 = count_3 + count_4;
                            var Total_3 = count_5 + count_6;
                            var Total_4 = count_7 + count_8;
                            var Total_5 = count_9 + count_10;
                            var Total_6 = count_11 + count_12;
                            if (Pou != ou) {
                                row = row + "<tr><td>" + index2 + "</td><td>" + insName + "</td><td>" + count_1 + "</td><td>" + count_2 + "</td><td>" + Total_1 + "</td><td>" + count_3 + "</td><td>" + count_4 + "</td><td>" + Total_2 + "</td><td>" + count_5 + "</td><td>" + count_6 + "</td><td>" + Total_3 + "</td><td>" + count_7 + "</td><td>" + count_8 + "</td><td>" + Total_4 + "</td><td>" + count_9 + "</td><td>" + count_10 + "</td><td>" + Total_5 + "</td><td>" + count_11 + "</td><td>" + count_12 + "</td><td>" + Total_6 + "</td></tr>";
                                $('.custom-table-government').append(row);
                                index2++;
                            }
                            else {
                                var table = document.getElementById("checkTable");
                                var rowCount = table.rows.length;

                                table.deleteRow(rowCount - 1);
                                index2--;
                                var roww = "<tr><td>" + index2 + "</td><td>" + insName + "</td><td>" + count_1 + "</td><td>" + count_2 + "</td><td>" + Total_1 + "</td><td>" + count_3 + "</td><td>" + count_4 + "</td><td>" + Total_2 + "</td><td>" + count_5 + "</td><td>" + count_6 + "</td><td>" + Total_3 + "</td><td>" + count_7 + "</td><td>" + count_8 + "</td><td>" + Total_4 + "</td><td>" + count_9 + "</td><td>" + count_10 + "</td><td>" + Total_5 + "</td><td>" + count_11 + "</td><td>" + count_12 + "</td><td>" + Total_6 + "</td></tr>";
                                $('.custom-table-government').append(roww);
                                index2++;
                            }


                            total1 += count_1;
                            total2 += count_2;
                            total3 += count_1 + count_2;
                            total4 += count_3;
                            total5 += count_4;
                            total6 += count_3 + count_4;
                            total7 += count_5;
                            total8 += count_6;
                            total9 += count_5 + count_6;
                            total10 += count_7;
                            total11 += count_8;
                            total12 += count_7 + count_8;
                            total13 += count_9;
                            total14 += count_10;
                            total15 += count_9 + count_10;
                            total16 += count_11;
                            total17 += count_12;
                            total18 += count_11 + count_12;
                            Pou = ou;
                        }



                    },

                    error: function (response) {

                    }

                });

            }

            Total1 = "<tbody><tr><td colspan='2'><strong>Total</strong></td>";
            Total11 = "<td>" + total1 + "</td><td>" + total2 + "</td><td>" + total3 + "</td><td>" + total4 + "</td><td>" + total5 + "</td><td>" + total6 + "</td><td>" + total7 + "</td><td>" + total8 + "</td><td>" + total9 + "</td><td>" + total10 + "</td><td>" + total11 + "</td><td>" + total12 + "</td><td>" + total13 + "</td><td>" + total14 + "</td><td>" + total15 + "</td><td>" + total16 + "</td><td>" + total17 + "</td><td>" + total18 + "</td>";
            var Totalcomb = Total1 + Total11;
            $('.custom-table-government').append(Totalcomb + "</tr></tbody>");


            /////////////////////////////////////////for private////////////////////////////////////

            var index1 = 1;
            for (var m = 0; m < filteredOrgUnitList1.length; m++) {
                var row = "<tbody>";
                var ou3 = filteredOrgUnitList1[m].id;
                var insName = filteredOrgUnitList1[m].displayName;


                var CountArray = [];
                $.ajax({
                    async: false,
                    type: "GET",
                    url: "../api/events.json?orgUnit=" + ou3 + "&program=Ml0ZNj9APN0&startDate=" + startDate + "&endDate=" + endDate + "&skipPaging=true&order=eventDate:desc",
                    success: function (data) {
                         var Pou = "";
                        for (var p = 0; p < data.events.length; p++) {
                            if (ou != Pou) {
                                var count_1 = 0, count_2 = 0, count_3 = 0, count_4 = 0, count_5 = 0, count_6 = 0, count_7 = 0, count_8 = 0, count_9 = 0, count_10 = 0, count_11 = 0, count_12 = 0;
                                var count_123 = 0, count_22 = 0, count_33 = 0, count_44 = 0, count_55 = 0, count_66 = 0, count_77 = 0, count_88 = 0, count_99 = 0, count_101 = 0, count_111 = 0, count_122 = 0;

                            }

                            for (var q = 0; q < data.events[p].dataValues.length; q++) {

                                if (data.events[p].dataValues[q].dataElement == "bGuRtYtGK0x") {
                                    //Total_IP_Fever_Adult
                                    count_123 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "A1ivL2rs8Hg") {
                                    //Total_IP_Fever_child
                                    count_22 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "W0a8m9irFdw") {
                                    //Total_IP_Fever_adult 24 hours
                                    count_33 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "GdOy1Xl4xbn") {
                                    //Total_IP_Fever_child 24 hours
                                    count_44 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "ntyZdb06mKL") {
                                    //Total_IP_Fever_discharge_adult 24 hours
                                    count_55 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "idMC8rBfGbw") {
                                    //Total_IP_Fever_discharge_child 24 hours
                                    count_66 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "zg42qWd4CLa") {
                                    //HUD_Aggregate/Case_Detected_24hrs_IgM	
                                    count_77 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "L5cwtj10wXP") {
                                    //HUD_Aggregate/Case_Detected_24hrs_NSI
                                    count_88 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "uzMGodduThW") {
                                    //HUD_Aggregate/Dengue_Discharged_24hrs_IgM
                                    count_99 += parseInt(data.events[p].dataValues[q].value);

                                }

                                else if (data.events[p].dataValues[q].dataElement == "TCKvjNLbNhJ") {
                                    //HUD_Aggregate/Dengue_Discharged_24hrs_NS1
                                    count_101 += parseInt(data.events[p].dataValues[q].value);

                                }

                                else if (data.events[p].dataValues[q].dataElement == "ubQe64rSIOv") {
                                    //HUD_Aggregate/Dengue_+ve_24hrs_IG1
                                    count_111 += parseInt(data.events[p].dataValues[q].value);

                                }
                                else if (data.events[p].dataValues[q].dataElement == "Rxv1yWzeVut") {
                                    //HUD_Aggregate/Dengue_Discharged+ve ns1
                                    count_122 += parseInt(data.events[p].dataValues[q].value);

                                }
                            }


                            var Total_1 = count_123 + count_22;
                            var Total_2 = count_33 + count_44;
                            var Total_3 = count_55 + count_66;
                            var Total_4 = count_77 + count_88;
                            var Total_5 = count_99 + count_101;
                            var Total_6 = count_111 + count_122;
                            if (Pou != ou) {
                                row = row + "<tr><td>" + index1 + "</td><td>" + insName + "</td><td>" + count_123 + "</td><td>" + count_22 + "</td><td>" + Total_1 + "</td><td>" + count_33 + "</td><td>" + count_44 + "</td><td>" + Total_2 + "</td><td>" + count_55 + "</td><td>" + count_66 + "</td><td>" + Total_3 + "</td><td>" + count_77 + "</td><td>" + count_88 + "</td><td>" + Total_4 + "</td><td>" + count_99 + "</td><td>" + count_101 + "</td><td>" + Total_5 + "</td><td>" + count_111 + "</td><td>" + count_122 + "</td><td>" + Total_6 + "</td></tr>";
                                $('.custom-table-private').append(row);
                                index1++;
                            }
                            else {
                                var table = document.getElementById("checkTable");
                                var rowCount = table.rows.length;

                                table.deleteRow(rowCount - 1);
                                index1--;
                                row = row + "<tr><td>" + index1 + "</td><td>" + insName + "</td><td>" + count_123 + "</td><td>" + count_22 + "</td><td>" + Total_1 + "</td><td>" + count_33 + "</td><td>" + count_44 + "</td><td>" + Total_2 + "</td><td>" + count_55 + "</td><td>" + count_66 + "</td><td>" + Total_3 + "</td><td>" + count_77 + "</td><td>" + count_88 + "</td><td>" + Total_4 + "</td><td>" + count_99 + "</td><td>" + count_101 + "</td><td>" + Total_5 + "</td><td>" + count_111 + "</td><td>" + count_122 + "</td><td>" + Total_6 + "</td></tr>";                                $('.custom-table-private').append(roww);
                                index2++;
                            }

                            total1_1 += count_123;
                            total22 += count_22;
                            total33 += count_11 + count_22;
                            total44 += count_33;
                            total55 += count_44;
                            total66 += count_33 + count_44;
                            total77 += count_55;
                            total88 += count_66;
                            total99 += count_55 + count_66;
                            total101 += count_77;
                            total111 += count_88;
                            total122 += count_77 + count_88;
                            total133 += count_99;
                            total144 += count_101;
                            total155 += count_99 + count_101;
                            total166 += count_111;
                            total177 += count_122;
                            total188 += count_111 + count_122;
                            Pou = ou3;
                            //console.log(total1);

                        }




                    },

                    error: function (response) {

                    }

                });

            }

            Total2 = "<tbody><tr><td colspan='2'><strong>Total</strong></td>";
            Total3 = "<td>" + total1_1 + "</td><td>" + total22 + "</td><td>" + total33 + "</td><td>" + total44 + "</td><td>" + total55 + "</td><td>" + total66 + "</td><td>" + total77 + "</td><td>" + total88 + "</td><td>" + total99 + "</td><td>" + total101 + "</td><td>" + total111 + "</td><td>" + total122 + "</td><td>" + total133 + "</td><td>" + total144 + "</td><td>" + total155 + "</td><td>" + total166 + "</td><td>" + total177 + "</td><td>" + total188 + "</td>";
            var Total4 = Total2 + Total3;
            $('.custom-table-private').append(Total4 + "</tr></tbody>");

            ////////////////////////////////////for district//////////////////////////////////////////
            var count = 1;
            var Total5 = "<tbody><tr><td>" + count + "</td><td><strong>Govt.</strong></td>" + Total11 + "</tr></tbody>";
            $('.custom-table-district').append(Total5);
            count++;

            var Total6 = "<tbody><tr><td>" + count + "</td><td><strong>Pvt.</strong></td>" + Total3 + "</tr></tbody>";
            $('.custom-table-district').append(Total6);
            count++;

            total_dis1 += total1 + total1_1;
            total_dis2 += total2 + total22;
            total_dis3 += total3 + total33;
            total_dis4 += total4 + total44;
            total_dis5 += total5 + total55;
            total_dis6 += total6 + total66;
            total_dis7 += total7 + total77;
            total_dis8 += total8 + total88;
            total_dis9 += total9 + total99;
            total_dis10 += total10 + total101;
            total_dis11 += total11 + total111;
            total_dis12 += total12 + total122;
            total_dis13 += total13 + total133;
            total_dis14 += total14 + total144;
            total_dis15 += total15 + total155;
            total_dis16 += total16 + total166;
            total_dis17 += total17 + total177;
            total_dis18 += total18 + total88;
            //console.log(total_dis1);

            var Totaldis = "<tbody><tr><td colspan='2'><strong>Total</strong></td><td>" + total_dis1 + "</td><td>" + total_dis2 + "</td><td>" + total_dis3 + "</td><td>" + total_dis4 + "</td><td>" + total_dis5 + "</td><td>" + total_dis6 + "</td><td>" + total_dis7 + "</td><td>" + total_dis8 + "</td><td>" + total_dis9 + "</td><td>" + total_dis10 + "</td><td>" + total_dis11 + "</td><td>" + total_dis12 + "</td><td>" + total_dis13 + "</td><td>" + total_dis14 + "</td><td>" + total_dis15 + "</td><td>" + total_dis16 + "</td><td>" + total_dis17 + "</td><td>" + total_dis18 + "</td></tr></tbody>";
            $('.custom-table-district').append(Totaldis);

            $('.table_both ').show();
            $('#datedisplay').show();
            $('#forma1').show();
            $('#footer1').show();
            $('#footer2').show();





















            //////////////////////////////////IPD Report///////////////////////////////

            var index11 = 1;
            var lab_positive = "Positive", lab_diagnosis_string = [];
            var org_ghuid, hud = [], block = [], village = [], districtu = [], habitationu = [];
            var dateofAdd = [], patientname = [], age = [], guardian = [], diagnosis = [], diagnosis_lab = [], remarks = [], contactnumber = [], sex = [], guardian, street1 = [], street2 = [], habitation, district = [], hospital = [], add_afi = [], nameofhospital, remarks = [];




            $.ajax({

                async: false,
                type: "GET",
                url: "../api/sqlViews/GhMETHtXkpg/data?var=startDate:" + startDate + "&var=endDate:" + endDate,
                success: function (data) {
                    for (var p = 0; p < data.rows.length; p++) {
                        dateofAdd.push(data.rows[p][1].substring(0, 10));
                        //Basic_Information/Name
                        patientname.push(data.rows[p][2]);
                        //Age in years
                        age.push(data.rows[p][4]);
                        //Gender
                        sex.push(data.rows[p][5]);
                        //Gaurdian
                        guardian.push(data.rows[p][6]);
                        //Street_Information/Street
                        street1.push(data.rows[p][7]);
                        //Street_Information/Pincode
                        street2.push(data.rows[p][8]);
                        //District
                        districtu.push(data.rows[p][13]);
                        habitationu.push(data.rows[p][9].replace(/[^A-Za-z]+/g, ''));
                        //Village
                        village.push(data.rows[p][10]);
                        //block
                        block.push(data.rows[p][11]);
                        //hud
                        hud.push(data.rows[p][12]);
                        //contact
                        contactnumber.push(data.rows[p][14]);

                        if (data.rows[p][15].includes("Dengue")) {
                            diagnosis_lab.push("Dengue");
                        }
                        if (data.rows[p][16].includes("Malaria")) {
                            diagnosis_lab.push("Malaria");
                        }
                        if (data.rows[p][17].includes("Leptosprirosis")) {
                            diagnosis_lab.push("Leptosprirosis");
                        }
                        if (data.rows[p][18].includes("scrub_typhus")) {
                            diagnosis_lab.push("scrub_typhus");
                        }
                        diagnosis.push(data.rows[p][20]);
                        //GH
                        hospital.push(data.rows[p][21].split('-')[1]);
                        //remarks
                        remarks.push(data.rows[p][22]);

                        if (hud == null) {
                            hud = "-";
                        }
                        if (block == null) {
                            block = "-";
                        }
                        if (village == null) {
                            village = "-";
                        }
                        if (districtu == null) {
                            districtu = "-";
                        }
                        if (habitationu[p] == null) {
                            habitationu.push("-");
                        }
                        if (patientname[p] == null) {
                            patientname.push("-");
                        }
                        if (age[p] == null) {
                            age.push("-");
                        }
                        if (sex[p] == null) {
                            sex.push("-");
                        }
                        if (guardian == null) {
                            guardian = "-";
                        }
                        if (street1[p] == null) {
                            street1.push("-");
                        }
                        if (street2[p] == null) {
                            street2.push("-");
                        }
                        if (habitation == null) {
                            habitation = "-";
                        }
                        if (hospital[p] == null) {
                            hospital.push("-");
                        }
                        if (add_afi[p] == null) {
                            add_afi.push("-");
                        }
                        if (contactnumber == null) {
                            contactnumber = "-";
                        }
                        if (nameofhospital == null) {
                            nameofhospital = "-";
                        }
                        if (remarks == null) {
                            remarks = "-";
                        }
                        if(diagnosis_lab[p] == null || diagnosis_lab[p] == ""){
                            diagnosis_lab.push("none");
                        }
                        if (district[p] == null) {
                            district.push("-");
                        }
                        if (diagnosis[p] == "ADD") {

                        }
                        if(flag==3){
                            var dateNew = dateofAdd[p].substring(0,10);
                            if(dateNew != startDate){}
                        else {
                            var row = $("<tbody><tr><td  id = 'tablerowsh' colspan='1' id='td'>" + index11 + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + dateofAdd[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + patientname[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + age[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + sex[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + guardian[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + street1[p] + "," + habitationu[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + village[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + hud[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + block[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + districtu[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + contactnumber[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + diagnosis[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + diagnosis_lab[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + hospital[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + remarks[p] + "</td></tr></tbody>");
                            $(".table_both").append(row);
                            index11++;
                        }

                    }
                        else {
                            var row = $("<tbody><tr><td  id = 'tablerowsh' colspan='1' id='td'>" + index11 + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + dateofAdd[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + patientname[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + age[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + sex[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + guardian[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + street1[p] + "," + habitationu[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + village[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + hud[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + block[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + districtu[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + contactnumber[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + diagnosis[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + diagnosis_lab[p] + "</td>" +
                                "<td id = 'tablerowsh' colspan='1' id='td'>" + hospital[p] + "</td>" +
                                "<td  id = 'tablerowsh' colspan='1' id='td'>" + remarks[p] + "</td></tr></tbody>");
                            $(".table_both").append(row);
                            index11++;
                        }
                    }
                    document.getElementById("datedisplay").innerHTML = "Date:" + startDate;

                    $("#loader").hide();
                },
                error: function (response) {

                }

            });
        }
    </script>
</body>

</html>